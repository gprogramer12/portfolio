/* force animations in prod; no media queries, no masks, no custom props */
$dots: 12;
$radius: 40;
$stroke: 2;
$circumference: 2 * 3.14159265 * $radius;
$dash: $circumference / ($dots * 2);
$gap: $dash;

:host {
  display: inline-block;
}

.dot-spinner {
  inline-size: 100vw;
  block-size: auto;
  aspect-ratio: 1 / 1;
  color: #4f46e5;
}

.dot-spinner__ring {
  inline-size: 100%;
  block-size: 100%;
  transform-origin: 50% 50%;
  will-change: transform;
  animation: dot-spin 10s linear infinite !important;
}

.dot-spinner__ring circle {
  fill: none;
  stroke: currentColor;
  stroke-width: $stroke;
  stroke-linecap: round;
  stroke-dasharray: #{$dash} #{$gap};
  will-change: stroke-dashoffset;
  animation: dot-shift 1.2s ease-in-out infinite alternate !important;
}

/* Desktop sizing */
@media (min-aspect-ratio: 4/3) {
  .dot-spinner {
    inline-size: auto;
    block-size: 100vh;
  }
}

/* Keyframes are global; names are simple */
@keyframes dot-spin {
  to {
    transform: rotate(360deg);
  }
}
@keyframes dot-shift {
  to {
    stroke-dashoffset: #{$dash + $gap};
  }
}
